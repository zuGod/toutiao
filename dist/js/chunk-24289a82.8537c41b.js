(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-24289a82"],{"2c21":function(t,e,a){"use strict";a("6d7c")},"524b":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t._self._c;return e("div",[e("van-nav-bar",{attrs:{title:"个人信息","left-arrow":"","right-text":"保存","left-text":"返回"},on:{"click-left":function(e){return t.$router.back()}}}),e("van-cell-group",[e("van-cell",{attrs:{title:"头像","is-link":""}},[e("van-image",{staticClass:"avatar",attrs:{round:"",width:"30",height:"30",fit:"cover",src:t.user.photo}})],1),e("van-cell",{attrs:{title:"昵称",value:t.user.name,"is-link":""},on:{click:function(e){t.isUpdateNameShow=!0}}}),e("van-cell",{attrs:{title:"性别",value:0===t.user.gender?"男":"女","is-link":""}}),e("van-cell",{attrs:{title:"生日",value:t.user.birthday,"is-link":""}})],1),e("van-popup",{staticStyle:{height:"100%"},attrs:{position:"bottom"},model:{value:t.isUpdateNameShow,callback:function(e){t.isUpdateNameShow=e},expression:"isUpdateNameShow"}},[e("UpdateName",{on:{close:function(e){t.isUpdateNameShow=!1}},model:{value:t.user.name,callback:function(e){t.$set(t.user,"name",e)},expression:"user.name"}})],1)],1)},n=[],s=function(){var t=this,e=t._self._c;return e("div",[e("van-nav-bar",{staticClass:"page-nav-bar",attrs:{title:"个人信息","left-arrow":"","left-text":"取消","right-text":"完成"},on:{"click-left":function(e){return t.$emit("close")},"click-right":t.onConfirm}}),e("van-field",{attrs:{rows:"2",autosize:"",maxlength:"10",type:"textarea",placeholder:"请输入昵称","show-word-limit":""},model:{value:t.localName,callback:function(e){t.localName="string"===typeof e?e.trim():e},expression:"localName"}})],1)},l=[],r=a("365c"),o={props:{value:{type:String,required:!0}},data(){return{localName:this.value}},methods:{async onConfirm(){try{const t=this.localName;if(!t.length)return void this.$("昵称不能为空");await Object(r["u"])({name:t}),this.$emit("input",t),this.$emit("close"),this.$toast.success("更新成功")}catch(t){this.$toast.fail("更新失败")}}}},c=o,u=(a("2c21"),a("2877")),h=Object(u["a"])(c,s,l,!1,null,"68f2ee0e",null),d=h.exports,m={name:"UserIndex",components:{UpdateName:d},data(){return{user:{},isUpdateNameShow:!1}},created(){this.loadUserProfile()},methods:{async loadUserProfile(){try{const{data:t}=await Object(r["r"])();this.user=t.data}catch(t){this.$toast("数据获取失败")}}}},f=m,p=(a("a9c4"),Object(u["a"])(f,i,n,!1,null,"273bca1b",null));e["default"]=p.exports},5294:function(t,e,a){},"6d7c":function(t,e,a){},a9c4:function(t,e,a){"use strict";a("5294")}}]);
//# sourceMappingURL=chunk-24289a82.8537c41b.js.map